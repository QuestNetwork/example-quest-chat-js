<div class="channelScreen" style="min-height:200px;    background-image: linear-gradient(315deg, #f907fc 0%, #000000 74%);">



                    <div class="import-key-screen captchaScreen" [hidden]="!showChallengeScreen" style="height: 100%;">
                        <img [src]="captchaImageResource" class="frameThumbnail" style="    width: 80%;  margin: 10%;">
                        <form class="example-form">
                          <mat-form-field class="example-full-width">
                            <mat-label>Captcha Text</mat-label>
                            <input matInput placeholder="Captcha Text" value="" name='captchaCode' [(ngModel)]='captchaCode'>
                          </mat-form-field>
                          </form>

                        <button mat-stroked-button color="primary" (click)="completedChallenge()" class="importButton captchaButton">I Aced That IQ Test</button>
                   </div>


                   <div class="channel-chat-screen" [hidden]="showChallengeScreen" style="height: 100%;">
                     <nb-layout>
                       <nb-sidebar state="expanded" left tag="left" [fixed]="sideBarFixed.left">
                         <button mat-stroked-button color="primary" (click)="toggleSideBar('left')" class="defaultSettingsButton" style="margin-right:8px;">Hide Panel</button>
                         <button mat-stroked-button color="primary" (click)="lockSideBar('left', false)" class="defaultSettingsButton" *ngIf="sideBarFixed.left">Lock Panel</button>
                         <button mat-stroked-button color="primary" (click)="lockSideBar('left', true)" class="defaultSettingsButton" *ngIf="!sideBarFixed.left">Float Panel</button>
                         <nb-tabset fullWidth>
                           <nb-tab tabIcon="share-outline" class="channelList">

                            <input nbInput [nbFilterInput]="dataSource" id="search" class="search-input" placeholder="Search">

                            <table [nbTreeGrid]="dataSource" [nbSort]="dataSource" (sort)="updateSort($event)">

                              <tr nbTreeGridHeaderRow *nbTreeGridHeaderRowDef="allColumns"></tr>
                              <tr nbTreeGridRow *nbTreeGridRowDef="let row; columns: allColumns"></tr>

                              <ng-container [nbTreeGridColumnDef]="customColumn">
                                <th nbTreeGridHeaderCell [nbSortHeader]="getSortDirection(customColumn)" *nbTreeGridHeaderCellDef>
                                  <!-- {{customColumn}} -->
                                </th>
                                <td nbTreeGridCell *nbTreeGridCellDef="let row" (click)="selectChannel(row.data[customColumn])" nb-fs-icon style="width:100%;overflow:hidden;text-overflow:ellipsis;break-work:any;white-space:nowrap">
                                  <nb-fs-icon [kind]="row.data.kind" [expanded]="row.expanded"></nb-fs-icon>
                                  {{row.data[customColumn]}}
                                </td>
                              </ng-container>

                              <ng-container *ngFor="let column of defaultColumns; let index = index"
                                            [nbTreeGridColumnDef]="column"
                                            [showOn]="getShowOn(index)">
                                <th nbTreeGridHeaderCell [nbSortHeader]="getSortDirection(column)" *nbTreeGridHeaderCellDef>
                                  {{column}}
                                </th>
                                <td nbTreeGridCell *nbTreeGridCellDef="let row">{{row.data[column] || '-'}}</td>
                              </ng-container>

                            </table>
                           </nb-tab>
                           <nb-tab tabIcon="flip-2-outline">
                             <p>List of <strong>Notifications</strong>.</p>
                           </nb-tab>
                         </nb-tabset>
                       </nb-sidebar>
                       <nb-sidebar state="expanded" right tag="right" [fixed]="sideBarFixed.right" collapsed="true">
                         <button mat-stroked-button color="primary" (click)="lockSideBar('right', false)" class="defaultSettingsButton" *ngIf="sideBarFixed.right" style="margin-right:10px;">Lock Panel</button>
                         <button mat-stroked-button color="primary" (click)="lockSideBar('right', true)" class="defaultSettingsButton" *ngIf="!sideBarFixed.right" style="margin-right:10px;">Float Panel</button>
                         <button mat-stroked-button color="primary" (click)="toggleSideBar('right')" class="defaultSettingsButton">Hide Panel</button>

                         <nb-tabset fullWidth>
                           <nb-tab tabIcon="people-outline" class="channelParticipantList">
                             <ul>
                             <li  *ngFor="let participant of channelParticipantListArray" class="participant" >  {{ participant }}</li>
                            </ul>
                           </nb-tab>
                           <nb-tab tabIcon="bell-outline">
                             <p>List of <strong>Notifications</strong>.</p>
                           </nb-tab>
                           <nb-tab tabIcon="settings-outline">
                             <p>List of <strong>I don't even</strong>.</p>
                           </nb-tab>
                         </nb-tabset>
                       </nb-sidebar>

                        <nb-layout-column>
                           <nb-chat title="Channel: {{channel}}">
                             <nb-chat-message *ngFor="let msg of messages"
                               [type]="msg.type"
                               [message]="msg.message"
                               [reply]="msg.reply"
                               [sender]="msg.channelPubKey"
                               [date]="msg.timestamp"
                               [files]="msg.files"
                               [quote]="msg.quote"
                               [latitude]="msg.latitude"
                               [longitude]="msg.longitude"
                               [avatar]="msg.participant.avatar">
                            </nb-chat-message>

                            <nb-chat-form (send)="publishChannelMessage($event)" [dropFiles]="true">
                            </nb-chat-form>

                            </nb-chat>
                    </nb-layout-column>

                  </nb-layout>
                  <div class="toggleSideBarRight" style="z-index: 20;
    position: fixed;
    right: 7px;
    top: 66px;
    cursor: pointer;color:#36f !important;" (click)="toggleSideBar('right')" *ngIf="!this.sideBarVisible.right">
    <nb-icon icon="arrow-circle-right-outline" ></nb-icon>
                    </div>

                    <div class="toggleSideBarRight" style="z-index: 20;
      position: fixed;
      left: 7px;
      top: 66px;
      cursor: pointer;color:#36f !important;" (click)="toggleSideBar('left')" *ngIf="!this.sideBarVisible.left">
                      <nb-icon icon="arrow-circle-left-outline" ></nb-icon>
                      </div>


                     <!-- <div id="main" class="realTimeChatHistory" style="     ">

                        <div *ngFor="let msg of messages">

                            <ul>
                              <li class="fromIndicator R" *ngIf="msg.self">{{ msg.channelPubKey }}</li>
                              <li class="fromIndicator L" *ngIf="!msg.self">{{ msg.channelPubKey }}</li>
                              <li class="me" *ngIf="msg.self">{{  msg.message }}</li>
                              <li class="him" *ngIf="!msg.self">{{  msg.message }}</li>
                            </ul>
                      </div>




                       <div class="messageInput" style="    width:95%;
    bottom: 11px;
    left: 8px;
    margin: auto;
    text-align: left;
    position: absolute;
    z-index:10;
    height: 20px;
    background: white;
    border-radius: 5px;
    padding: 5px;">

                         <div class="input" style="float: left;width:88% ">

                                  <input value="" #newMessage style="width:100%">
                         </div>

                         <div (click)="publishChannelMessage()" class="sendMessageIcon" style=" " >
                           <mat-icon style="font-size: 17px; padding: 2px;    left: 1px;position: relative;">send</mat-icon>
                           </div> -->



                       </div>



'

                   <div class="file-drop file-drop-bee-processing-screen" [hidden]="!beeProcessing" style="">
                     &nbsp;
                  </div>



</div>
